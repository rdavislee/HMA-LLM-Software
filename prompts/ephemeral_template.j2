{# Ephemeral Agent Template #}
{% if active_task %}
## Current Task
{{ active_task }}
{% endif %}

{% if context %}
## Context
{% for item in context %}
### Previous Interaction
**Prompt:**
{{ item.prompt }}

**Response:**
{{ item.response }}

{% endfor %}
{% endif %}

{% if memory_contents %}
## Memory Files
{% for filename, content in memory_contents.items() %}
### {{ filename }}
```
{{ content }}
```

{% endfor %}
{% endif %}

{% if codebase_structure %}
## Codebase Structure
{{ codebase_structure }}
{% endif %}

## Agent Context
**Parent Path (from project root):** {{ parent_path }}
**Parent Type:** {{ parent_type }}
**Agent Type:** Ephemeral Agent ({{ agent_type }})

## Response Format Requirements
Return exactly the command(s) with no surrounding prose or code fences.
Use escaped quotes (\") and `\\n` only when needed inside quoted arguments. Ensure the response ends with a single newline.

{% if current_prompt %}
## Current Prompt
{{ current_prompt }}
{% endif %} 