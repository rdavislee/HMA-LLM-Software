/* Fonts are loaded via HTML link tag to prevent FOUC */

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --font-size: 14px;
  --text-base: 14px;
  --text-sm: 13px;
  --text-lg: 16px;
  --text-xl: 20px;
  --text-2xl: 24px;
  --background: 0 0% 8%;
  --foreground: 220 14% 96%;
  --card: 0 0% 12%;
  --card-foreground: 220 14% 96%;
  --popover: 0 0% 12%;
  --popover-foreground: 220 14% 96%;
  --primary: 213 94% 68%;
  --primary-foreground: 0 0% 100%;
  --secondary: 215 14% 34%;
  --secondary-foreground: 220 14% 96%;
  --muted: 215 14% 34%;
  --muted-foreground: 218 11% 65%;
  --accent: 262 83% 58%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 91% 71%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 16%;
  --input: 0 0% 0%;
  --input-background: 0 3% 17%;
  --switch-background: 215 14% 34%;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --font-weight-semibold: 600;
  --ring: 213 94% 68%;
  --chart-1: 213 94% 68%;
  --chart-2: 158 64% 52%;
  --chart-3: 43 96% 56%;
  --chart-4: 0 91% 71%;
  --chart-5: 255 92% 76%;
  --radius: 0.5rem;
  --sidebar: 0 0% 8%;
  --sidebar-foreground: 220 14% 96%;
  --sidebar-primary: 213 94% 68%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 215 14% 34%;
  --sidebar-accent-foreground: 220 14% 96%;
  --sidebar-border: 0 0% 16%;
  --sidebar-ring: 213 94% 68%;
}

.dark {
  --background: 0 0% 8%;
  --foreground: 220 14% 96%;
  --card: 0 0% 12%;
  --card-foreground: 220 14% 96%;
  --popover: 0 0% 12%;
  --popover-foreground: 220 14% 96%;
  --primary: 213 94% 68%;
  --primary-foreground: 0 0% 100%;
  --secondary: 215 14% 34%;
  --secondary-foreground: 220 14% 96%;
  --muted: 215 14% 34%;
  --muted-foreground: 218 11% 65%;
  --accent: 262 83% 58%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 91% 71%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 16%;
  --input: 0 3% 17%;
  --ring: 213 94% 68%;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --font-weight-semibold: 600;
  --chart-1: 213 94% 68%;
  --chart-2: 158 64% 52%;
  --chart-3: 43 96% 56%;
  --chart-4: 0 91% 71%;
  --chart-5: 255 92% 76%;
  --sidebar: 0 0% 8%;
  --sidebar-foreground: 220 14% 96%;
  --sidebar-primary: 213 94% 68%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 215 14% 34%;
  --sidebar-accent-foreground: 220 14% 96%;
  --sidebar-border: 0 0% 16%;
  --sidebar-ring: 213 94% 68%;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-switch-background: var(--switch-background);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/60;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/**
 * Base typography following new hierarchy
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h2 {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h3 {
      font-size: 12px;
      font-weight: var(--font-weight-semibold);
      line-height: 1.5;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    h4 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    p {
      font-size: 14px;
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }

    label {
      font-size: 14px;
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    button {
      font-size: 13px;
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    input {
      font-size: 14px;
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }
  }
}

html {
  font-size: var(--font-size);
}

/* Enhanced minimalist background */
body {
  background: #141414;
  background-attachment: fixed;
}

/* Custom width utilities */
.w-2\/7 {
  width: 28.571429%;
}

.w-5\/7 {
  width: 71.428571%;
}

/* Minimalist panel styling */
.minimalist-panel {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
}

.minimalist-panel-canvas {
  background: var(--background);
  border: 1px solid var(--border);
  border-radius: 8px;
}

/* Legacy panel styling - updated for new minimalist approach */
.white-border-panel {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
}

.glass-panel {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
}

/* Remove old cyber glow effects */
.cyber-glow {
  /* No additional styling - clean minimalist approach */
}

/* Minimalist scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #383838;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #484848;
}

/* Resizable handle styling - hairline approach */
.group[data-panel-group-direction="horizontal"] > [data-panel-resize-handle-enabled] {
  width: 1px;
  background: var(--border);
  border: none;
  transition: all 0.2s ease;
  position: relative;
}

.group[data-panel-group-direction="vertical"] > [data-panel-resize-handle-enabled] {
  height: 1px;
  background: var(--border);
  border: none;
  transition: all 0.2s ease;
  position: relative;
}

[data-panel-resize-handle-enabled]:hover {
  background: rgba(96, 165, 250, 0.4) !important;
}

[data-panel-resize-handle-enabled]:active {
  background: rgba(96, 165, 250, 0.6) !important;
}

/* Clean focus ring */
.focus-ring:focus-visible {
  outline: 2px solid rgba(96, 165, 250, 0.6);
  outline-offset: 2px;
}

/* Terminal input - no focus ring */
.minimalist-terminal input:focus {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
}

/* Code editor - no blue highlighting */
.code-editor-no-highlight:focus {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
  ring: none !important;
}

.code-editor-no-highlight:focus-visible {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
}

/* Ghost chip styling */
.ghost-chip {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--muted-foreground);
  font-size: 13px;
  font-weight: var(--font-weight-medium);
  padding: 0.375rem 0.75rem;
  border-radius: 8px;
  transition: all 0.15s ease;
}

/* Minimalist button styling */
.minimalist-button {
  background: transparent;
  border: 1px solid;
  font-size: 13px;
  font-weight: var(--font-weight-medium);
  padding: 0.375rem 0.75rem;
  border-radius: 6px;
  transition: all 0.15s ease;
}

.minimalist-button:hover {
  background: hsl(var(--primary) / 0.1);
}

/* Wave progress animations */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(1000%);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.ghost-chip:hover {
  border-color: rgba(96, 165, 250, 0.3);
  color: var(--foreground);
}

.ghost-chip.active {
  border-color: var(--primary);
  color: var(--primary);
}

/* Icon stroke weight adjustment */
svg {
  stroke-width: 1.25;
}

/* Section title styling */
.section-title {
  font-size: 12px;
  font-weight: var(--font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--muted-foreground);
}

/* Tab styling - minimalist approach */
.minimalist-tab {
  font-size: 13px;
  font-weight: var(--font-weight-medium);
  background: transparent;
  border: 1px solid transparent;
  color: var(--muted-foreground);
  padding: 0.5rem 1rem;
  border-radius: 8px;
  transition: all 0.15s ease;
}

.minimalist-tab:hover {
  border-color: var(--border);
  color: var(--foreground);
}

.minimalist-tab.active {
  border-color: var(--primary);
  color: var(--primary);
}

/* Remove particle effects for minimalism */
.particle-bg {
  display: none;
}

/* Clean button styling */
.minimalist-button {
  font-size: 13px;
  font-weight: var(--font-weight-medium);
  background: transparent;
  border: 1px solid var(--border);
  color: var(--foreground);
  padding: 0.5rem 1rem;
  border-radius: 8px;
  transition: all 0.15s ease;
}

.minimalist-button:hover {
  border-color: rgba(96, 165, 250, 0.3);
  background: rgba(96, 165, 250, 0.05);
}

/* File tree item spacing - reduced by half */
.file-tree-item {
  margin-bottom: 0.1875rem; /* reduced from 0.375rem (gap-1.5) to 0.1875rem */
}

/* Borderless chat message styling - removed old minimalist-message */
.borderless-chat-message {
  padding: 0.5rem 0;
  transition: background-color 0.15s ease;
}

.borderless-chat-message:hover {
  background: rgba(255, 255, 255, 0.01);
}

/* Terminal styling with JetBrains Mono Medium */
.minimalist-terminal {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 1rem;
  font-family: 'JetBrains Mono', monospace;
  font-weight: 500; /* Medium weight */
}

/* Clean Shiki Syntax Highlighting - reduced indentation */
.shiki-editor {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  line-height: 1.6;
  tab-size: 4; /* Reduced from 8 to 4 */
  -moz-tab-size: 4;
  background: #1e1e1e;
  color: #d4d4d4;
}

/* Override Shiki's default styles for cleaner integration */
.shiki-editor pre {
  background: transparent !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: visible !important;
  font-family: inherit !important;
  font-size: inherit !important;
  line-height: inherit !important;
  tab-size: inherit !important;
}

.shiki-editor code {
  background: transparent !important;
  padding: 0 !important;
  font-family: inherit !important;
  font-size: inherit !important;
  line-height: inherit !important;
  tab-size: inherit !important;
}

/* Enhanced syntax highlighting visibility in dark theme */
.shiki-editor .token.comment {
  color: #6a9955 !important;
}

.shiki-editor .token.keyword {
  color: #569cd6 !important;
}

.shiki-editor .token.string {
  color: #ce9178 !important;
}

.shiki-editor .token.number {
  color: #b5cea8 !important;
}

.shiki-editor .token.function {
  color: #dcdcaa !important;
}

.shiki-editor .token.variable {
  color: #9cdcfe !important;
}

.shiki-editor .token.type {
  color: #4ec9b0 !important;
}

/* Code editor styling with reduced indentation */
.minimalist-code-editor {
  background: #1e1e1e;
  border: 1px solid var(--border);
  border-radius: 8px;
}

.code-editor-textarea {
  font-family: 'JetBrains Mono', monospace;
  font-weight: 400;
  line-height: 1.6;
  font-size: 12px;
  tab-size: 4; /* Reduced from 8 to 4 points */
  -moz-tab-size: 4;
}

/* Input styling */
.minimalist-input {
  background: var(--input-background);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 1rem;
  color: var(--foreground);
}

.minimalist-input:focus {
  outline: 2px solid rgba(96, 165, 250, 0.6);
  outline-offset: 2px;
  border-color: var(--primary);
}

/* Remove old animations and effects for clean look */
.holographic-text,
.animated-border,
.neon-button,
.wave-shimmer,
.thread-filter-chip::before {
  display: none;
}

/* Clean hover states */
.clean-hover:hover {
  background: rgba(255, 255, 255, 0.02);
}

/* Typography utilities */
.text-body {
  font-size: 14px;
  font-weight: var(--font-weight-normal);
}

.text-section-title {
  font-size: 12px;
  font-weight: var(--font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.text-tab {
  font-size: 13px;
  font-weight: var(--font-weight-medium);
}

/* Loading spinner animation */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loading-spinner {
  animation: spin 1s linear infinite;
}

/* File tree smaller styling */
.file-tree-small {
  font-size: 12px;
}

.file-tree-small svg {
  width: 12px;
  height: 12px;
}

/* File tree Quicksand font */
.file-tree-node-name {
  font-family: 'Quicksand', sans-serif;
  font-weight: 400;
}

/* Borderless chat panel styling */
.borderless-chat-panel {
  background: var(--card);
  /* No border or rounded corners for seamless integration */
}

/* Chat section dividers */
.chat-section-divider {
  height: 1px;
  background: var(--border);
  margin: 1rem 0;
  opacity: 0.3;
}

/* Merged panel styling for seamless file tree + code editor */
.merged-panel {
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
}

.merged-panel-left {
  border-right: 1px solid var(--border);
  background: var(--card);
}

.merged-panel-right {
  background: #1e1e1e;
}

/* Ensure headers align across merged panels */
.merged-header-height {
  min-height: 60px; /* Consistent header height */
}

/* Remove gap between merged panels */
.merged-layout {
  gap: 0;
}

/* Terminal spacing adjustments for merged layout */
.terminal-merged-spacing {
  margin-top: 0;
  padding-top: 0;
}

/* Clean file tab styling with Quicksand font */
.file-tab-button {
  font-family: 'Quicksand', sans-serif;
  font-weight: 500;
  background: transparent;
  border: 1px solid transparent;
  color: var(--muted-foreground);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  transition: all 0.2s ease;
  min-width: 120px;
  position: relative;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.file-tab-button:hover {
  background: rgba(255, 255, 255, 0.02);
  border-color: var(--border);
  color: var(--foreground);
}

.file-tab-button.active {
  background: rgba(96, 165, 250, 0.1);
  border-color: rgba(96, 165, 250, 0.3);
  color: var(--primary);
}

/* Expanded header adjustments */
.expanded-header {
  height: 64px; /* Increased from 56px */
}

/* Adjust spacing for expanded header */
.header-expanded-spacing {
  padding-top: 64px; /* Account for larger header */
}

/* Title styling for Colony AI */
.colony-ai-title {
  font-family: 'Quicksand', sans-serif;
  font-size: 28px;
  font-weight: 400;
  letter-spacing: -0.5px;
  color: var(--foreground);
}

/* Header button group styling */
.header-button-group {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Improved menu button positioning */
.menu-button-positioned {
  margin-right: 8px;
}

/* Shiki code block styling overrides */
pre.shiki {
  background: transparent !important;
  padding: 0 !important;
  margin: 0 !important;
  font-family: 'JetBrains Mono', monospace !important;
  font-size: 12px !important;
  line-height: 1.6 !important;
  tab-size: 4 !important;
}

pre.shiki code {
  background: transparent !important;
  padding: 0 !important;
  font-family: inherit !important;
  font-size: inherit !important;
  line-height: inherit !important;
  tab-size: inherit !important;
}

/* Selection styling for code editor */
::selection {
  background: rgba(96, 165, 250, 0.3) !important;
}

::-moz-selection {
  background: rgba(96, 165, 250, 0.3) !important;
}

/* Caret styling for transparent textarea */
.caret-white {
  caret-color: #d4d4d4 !important;
}

/* Syntax highlighting classes for code editor */
.syntax-comment {
  color: #6a9955;
  font-style: italic;
}

.syntax-string {
  color: #ce9178;
}

.syntax-keyword {
  color: #569cd6;
  font-weight: 500;
}

.syntax-number {
  color: #b5cea8;
}

.syntax-function {
  color: #dcdcaa;
}

.syntax-type {
  color: #4ec9b0;
}

/* Hide scrollbar on syntax highlighted content */
.syntax-highlighted-content::-webkit-scrollbar {
  display: none;
}

.syntax-highlighted-content {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Code editor textarea selection styling */
.code-editor-textarea::selection {
  background-color: rgba(33, 150, 243, 0.3) !important;
  color: transparent !important;
}

.code-editor-textarea::-moz-selection {
  background-color: rgba(33, 150, 243, 0.3) !important;
  color: transparent !important;
}